<div class="mat-elevation-z8">
  <div class="container">
    <mat-toolbar>
      <h3>Participant: {{ participant.fullid }}</h3>
      <span class="fillspace"></span>
      <button mat-raised-button color="secondary" routerLink="/participant/edit/{{participant.id}}">Edit Participant</button>
    </mat-toolbar>
    <br/>
    <mat-accordion>
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            General Info
          </mat-panel-title>
          <mat-panel-description>
            Family: {{participant.family}}
            |
            Country: {{ participant.country }}
          </mat-panel-description>
        </mat-expansion-panel-header>
        <p>
          Arrival Date: {{ participant.arrival_date | date: "yyyy-MM-dd"}}
        </p>
        <caption>Studies</caption>
        <table class="table table-striped">

          <tr>
            <th>Study Title</th>
            <th>Code</th>
            <th>Description</th>
            <th>Status</th>
          </tr>

          <tr *ngFor="let study of participant.study">
            <td>{{study.title}}</td>
            <td>{{study.code}}</td>
            <td>{{study.description}}</td>
            <td>{{study.status}}</td>

          </tr>
        </table>
      </mat-expansion-panel>
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Demographics
          </mat-panel-title>
          <mat-panel-description>
            {{participant.demographic?.gender}}
          </mat-panel-description>
        </mat-expansion-panel-header>

        <table class="table table-striped">
          <tr>
            <th>Gender</th>
            <td>{{participant.demographic?.gender}}</td>
          </tr>
          <tr>
            <th>Age at Assessment</th>
            <td>{{participant.demographic?.ageAssessment}} years</td>
          </tr>
          <tr>
            <th>Marital Status</th>
            <td>{{participant.demographic?.maritalStatus}}</td>
          </tr>
          <tr>
            <th>Living Arrangements</th>
            <td>{{participant.demographic?.livingArr}}</td>
          </tr>
          <tr>
            <th>Years of School</th>
            <td>{{participant.demographic.yearsSchool}}</td>
          </tr>
        </table>

      </mat-expansion-panel>
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Diagnosis
          </mat-panel-title>
          <mat-panel-description>
            {{participant.diagnosis?.summaryDiagnosis}}
          </mat-panel-description>
        </mat-expansion-panel-header>

        <table class="table table-striped">
          <tr>
            <th>Summary</th>
            <td>{{participant.diagnosis?.summaryDiagnosis}}</td>
          </tr>
          <tr>
            <th>Age at Onset</th>
            <td>{{participant.diagnosis?.ageOnset}} years</td>
          </tr>
        </table>
        <p>...</p>

      </mat-expansion-panel>
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Medical History
          </mat-panel-title>
          <mat-panel-description>

          </mat-panel-description>
        </mat-expansion-panel-header>

        <table class="table table-striped">
          <tr>
            <th>Thyroid</th>
            <td>
              <mat-icon>{{participant.medical?.thyroid ? 'check_circle' : 'highlight_off' }}</mat-icon>
             </td>
          </tr>
          <tr>
            <th>Epilepsy</th>
            <td>
              <mat-icon>{{participant.medical?.epilepsy ? 'check_circle' : 'highlight_off' }}</mat-icon>
              </td>
          </tr>
          <tr>
            <th>Head Injury</th>
            <td>
              <mat-icon>{{participant.medical?.headinjury ? 'check_circle' : 'highlight_off' }}</mat-icon>
              </td>
          </tr>
        </table>
        <p>...</p>
      </mat-expansion-panel>
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Symptoms
          </mat-panel-title>
          <mat-panel-description>

          </mat-panel-description>
        </mat-expansion-panel-header>

        <table class="table table-striped">
          <tr>
            <th>Final Delusions</th>
            <td>
              <mat-icon>{{participant.symptoms?.finalDelusions ? 'check_circle' : 'highlight_off' }}</mat-icon>
             </td>
          </tr>
          <tr>
            <th>Severe Current Delusions</th>
            <td>
              <mat-icon>{{participant.symptoms?.severeCurrentDelusions ? 'check_circle' : 'highlight_off' }}</mat-icon>
              </td>
          </tr>
        </table>
        <p>...</p>
      </mat-expansion-panel>
    </mat-accordion>
    <p class="fillspace">&nbsp;</p>

  </div>
</div>
